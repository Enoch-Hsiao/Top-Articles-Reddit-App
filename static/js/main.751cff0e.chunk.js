(this["webpackJsonptop-articles-reddit-app"]=this["webpackJsonptop-articles-reddit-app"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a.p+"static/media/popular.2faa8b64.png"},function(e,t,a){e.exports=a.p+"static/media/news.5adc2985.png"},function(e,t,a){e.exports=a.p+"static/media/science.f7237ab8.png"},function(e,t,a){e.exports=a.p+"static/media/music.b6b39001.png"},function(e,t,a){e.exports=a.p+"static/media/sports.79e7975c.png"},function(e,t,a){e.exports=a.p+"static/media/gaming.6e9063b0.png"},function(e,t,a){e.exports=a.p+"static/media/photos.a52d3fed.png"},function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(3),c=a.n(r),o=(a(17),a(1));a(18);var l=function(e){return i.a.createElement("div",{className:"column"},i.a.createElement("img",{className:"icon",src:e.link,alt:"",onClick:e.function(e.name)}))},s=a(4);var d=function(e){var t="https://www.reddit.com"+e.permalink,a=i.a.createElement("img",{src:e.url,alt:"",className:"media"}),n=e.title.replace("&amp;","&");if(e.is_video)if(null!==e.media.reddit_video){var r=e.media.reddit_video.fallback_url;a=i.a.createElement(s.a,{src:r,frameBorder:"0",allowFullScreen:!0,title:"video",width:"500px",height:"500px",position:"relative",align:"center",display:"initial"})}else null!==e.media.oembed&&(a=e.media.oembed.html);var c=e.url.substring(8,35)+"...";return i.a.createElement("div",{className:"box"},i.a.createElement("div",{className:"title"},i.a.createElement("a",{href:t},n)),i.a.createElement("div",{className:"title"},i.a.createElement("a",{href:e.url,className:"link"},c)),i.a.createElement("h3",null,"Upvotes: ",e.upvotes," Comments: ",e.comments),a)};var u=function(e){var t={backgroundColor:"#191919",width:"100%",height:"240px",overflow:"hidden",font:"verdana",color:"#E8E8E8",margin:"auto",alignItems:"center",textAlign:"center"},a={backgroundColor:"#191919",width:"100%",height:"100px",overflow:"hidden",font:"verdana",color:"#E8E8E8",margin:"auto",alignItems:"center",textAlign:"center"},n={borderRadius:"50%",width:"100px",margin:"auto",padding:"0px",display:"block"},r={width:"100%",margin:"auto",padding:"0px",display:"block"};return!1===e.data.data?i.a.createElement("div",null,i.a.createElement("img",{src:"https://i.imgur.com/ki6Zzu2.png",alt:"reddit",style:r}),i.a.createElement("div",{className:"banner",style:a},i.a.createElement("h1",null,"Top articles from r/",e.data.name))):""!==e.data.icon?i.a.createElement("div",null,i.a.createElement("img",{src:e.data.background,alt:"",style:r}),i.a.createElement("div",{className:"banner",style:t},i.a.createElement("h2",null,e.data.title),i.a.createElement("h4",null,"r/",e.data.name,"  ",e.data.subscribers," subscribers"),i.a.createElement("img",{src:e.data.icon,alt:"",style:n}))):""!==e.data.icon2?i.a.createElement("div",null,i.a.createElement("img",{src:e.data.background,alt:"",style:r}),i.a.createElement("div",{className:"banner",style:t},i.a.createElement("h2",null,e.data.title),i.a.createElement("h4",null,"r/",e.data.name,"  ",e.data.subscribers," subscribers"),i.a.createElement("img",{src:e.data.icon2,alt:"",style:n}))):i.a.createElement("div",null,i.a.createElement("img",{src:e.data.background,alt:"",style:a}),i.a.createElement("div",{className:"banner",style:a},i.a.createElement("h2",null,e.data.title),i.a.createElement("h4",null,"r/",e.data.name,"  ",e.data.subscribers," subscribers")))};var m=function(){return i.a.createElement("div",{style:{fontFamily:"sans-serif",fontSize:"20px",textAlign:"center",color:"whitesmoke",margin:"15px"}},"Top Articles Reddit Web Application \xa9Enoch Hsiao 2020")},p=a(5),h=a.n(p),f=a(6),b=a.n(f),v=a(7),g=a.n(v),w=a(8),E=a.n(w),k=a(9),y=a.n(k),j=a(10),x=a.n(j),O=a(11),N=a.n(O);var _=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),p=s[0],f=s[1],v=Object(n.useState)(20),w=Object(o.a)(v,2),k=w[0],j=w[1],O=Object(n.useState)(""),_=Object(o.a)(O,2),S=_[0],A=_[1],P=Object(n.useState)("https://www.reddit.com/r/popular/.json?limit=51"),C=Object(o.a)(P,2),W=C[0],T=C[1],F=Object(n.useState)("https://www.reddit.com/r/popular/about.json"),R=Object(o.a)(F,2),B=R[0],I=R[1],U=Object(n.useState)("popular"),L=Object(n.useState)("Enter Subreddit"),z=Object(o.a)(L,2),H=z[0],J=z[1],D=Object(n.useState)("# of Articles (1-50)"),M=Object(o.a)(D,2),Z=M[0],$=M[1],q=[{key:1,name:"popular",iconPic:h.a},{key:2,name:"worldnews",iconPic:b.a},{key:3,name:"science",iconPic:g.a},{key:4,name:"music",iconPic:E.a},{key:5,name:"sports",iconPic:y.a},{key:6,name:"gaming",iconPic:x.a},{key:7,name:"pics",iconPic:N.a}],G=Object(n.useState)(""),K=Object(o.a)(G,2),Q=K[0],V=K[1];Object(n.useEffect)((function(){fetch(W).then((function(e){return e.json()})).then((function(e){var t=[];if(void 0!==e){var a=k;e.data.children.length<k&&(a=e.data.children.length);for(var n=0;n<a;n++)t.push({id:e.data.children[n].data.id,redditlink:e.data.children[n].data.permalink,url:e.data.children[n].data.url,title:e.data.children[n].data.title,upvotes:e.data.children[n].data.ups,comments:e.data.children[n].data.num_comments,author:e.data.children[n].data.author_fullname,thumbnail:e.data.children[n].data.thumbnail,thumbnail_height:e.data.children[n].data.thumbnail_height,media:e.data.children[n].data.media,is_video:e.data.children[n].data.is_video})}r(t)}))}),[W,k]),Object(n.useEffect)((function(){fetch(B).then((function(e){return e.json()})).then((function(e){if(void 0!==e){var t=null;if("Not Found"!==e.message){var a=ae(e.data.banner_background_image),n=ae(e.data.community_icon);t={data:!0,name:e.data.display_name,title:e.data.title,background:a,icon:n,icon2:e.data.icon_img,subscribers:e.data.subscribers,description:e.data.public_description,color:e.data.primary_color}}else t={data:!1,name:U};f(t)}}))}),[W]);var X=function(e){return function(){I("https://www.reddit.com/r/"+e+"/about.json"),T("https://www.reddit.com/r/"+e+"/.json?limit=51")}};function Y(e){var t=e.target,a=t.name,n=t.value;"searchText"===a?V(n):"numOfEntries"===a&&A(n)}var ee=a.map((function(e){return i.a.createElement(d,{key:e.id,title:e.title,permalink:e.redditlink,url:e.url,upvotes:e.upvotes,comments:e.comments,author:e.author,thumbnail:e.thumbnail,thumbnail_height:e.thumbnail_height,media:e.media,is_video:e.is_video})})),te=q.map((function(e){return i.a.createElement(l,{key:e.key,name:e.name,link:e.iconPic,function:X})}));function ae(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}return i.a.createElement("div",{className:"App"},i.a.createElement(u,{data:p}),i.a.createElement("form",{className:"searchBar",onSubmit:function(e){e.preventDefault();var t=W,a=B;if(""!==Q&&(t="https://www.reddit.com/r/"+Q+".json?limit=51",a="https://www.reddit.com/r/"+Q+"/about.json"),isNaN(S)||Number(S)>50||Number(S)<0)return $("Insert number between 1-50"),void A("");""!==S&&(t=t.match(/^(.*?)=/)[0]+S,j(S)),fetch(t).then((function(e){if(!e.ok)return J("Subreddit not found"),void V("");I(a),T(t)})).catch((function(e){console.error("There has been a problem with your fetch operation:",e)}))}},i.a.createElement("input",{type:"text",name:"searchText",id:"inputField",placeholder:H,value:Q,onChange:Y}),i.a.createElement("input",{type:"text",name:"numOfEntries",id:"inputField",placeholder:Z,value:S,onChange:Y}),i.a.createElement("button",null,"Search")),i.a.createElement("div",{className:"row"},te),ee,i.a.createElement(m,null))},S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(i.a.createElement(_,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/top-articles-reddit-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/top-articles-reddit-app","/service-worker.js");S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):A(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):A(t,e)}))}}()}],[[12,1,2]]]);
//# sourceMappingURL=main.751cff0e.chunk.js.map